
<!DOCTYPE html>
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
		<title>models: Go Coverage Report</title>
		<style>
			body {
				background: black;
				color: rgb(80, 80, 80);
			}
			body, pre, #legend span {
				font-family: Menlo, monospace;
				font-weight: bold;
			}
			#topbar {
				background: black;
				position: fixed;
				top: 0; left: 0; right: 0;
				height: 42px;
				border-bottom: 1px solid rgb(80, 80, 80);
			}
			#content {
				margin-top: 50px;
			}
			#nav, #legend {
				float: left;
				margin-left: 10px;
			}
			#legend {
				margin-top: 12px;
			}
			#nav {
				margin-top: 10px;
			}
			#legend span {
				margin: 0 5px;
			}
			.cov0 { color: rgb(192, 0, 0) }
.cov1 { color: rgb(128, 128, 128) }
.cov2 { color: rgb(116, 140, 131) }
.cov3 { color: rgb(104, 152, 134) }
.cov4 { color: rgb(92, 164, 137) }
.cov5 { color: rgb(80, 176, 140) }
.cov6 { color: rgb(68, 188, 143) }
.cov7 { color: rgb(56, 200, 146) }
.cov8 { color: rgb(44, 212, 149) }
.cov9 { color: rgb(32, 224, 152) }
.cov10 { color: rgb(20, 236, 155) }

		</style>
	</head>
	<body>
		<div id="topbar">
			<div id="nav">
				<select id="files">
				
				<option value="file0">github.com/crashana/go-eloquent/tests/models/test_models.go (65.2%)</option>
				
				</select>
			</div>
			<div id="legend">
				<span>not tracked</span>
			
				<span class="cov0">not covered</span>
				<span class="cov8">covered</span>
			
			</div>
		</div>
		<div id="content">
		
		<pre class="file" id="file0" style="display: none">package models

import (
        "time"

        "github.com/crashana/go-eloquent"
)

// UserModel - Test model for users
type UserModel struct {
        *eloquent.BaseModel

        // Struct fields for direct access
        ID              string    `json:"id" db:"id"`
        Name            string    `json:"name" db:"name"`
        Email           string    `json:"email" db:"email"`
        Password        string    `json:"password" db:"password"`
        EmailVerifiedAt time.Time `json:"email_verified_at" db:"email_verified_at"`
        IsAdmin         bool      `json:"is_admin" db:"is_admin"`
        Status          string    `json:"status" db:"status"`
        CreatedAt       time.Time `json:"created_at" db:"created_at"`
        UpdatedAt       time.Time `json:"updated_at" db:"updated_at"`
        DeletedAt       time.Time `json:"deleted_at" db:"deleted_at"`
}

// NewUser creates a new UserModel instance
func NewUser() *UserModel <span class="cov8" title="1">{
        user := &amp;UserModel{
                BaseModel: eloquent.NewBaseModel(),
        }

        user.Table("users").
                PrimaryKey("id").
                Fillable("name", "email", "password", "is_admin", "status").
                Hidden("password", "remember_token").
                Casts(map[string]string{
                        "email_verified_at": "datetime",
                        "is_admin":          "bool",
                        "created_at":        "datetime",
                        "updated_at":        "datetime",
                        "deleted_at":        "datetime",
                })

        // Set the parent model reference for attribute syncing
        user.SetParentModel(user)

        return user
}</span>

// Global static instance for User model
var User = eloquent.NewModelStatic(func() *UserModel <span class="cov8" title="1">{
        return NewUser()
}</span>)

// PostModel - Test model for posts
type PostModel struct {
        *eloquent.BaseModel

        ID        string    `json:"id" db:"id"`
        Title     string    `json:"title" db:"title"`
        Content   string    `json:"content" db:"content"`
        UserID    string    `json:"user_id" db:"user_id"`
        Published bool      `json:"published" db:"published"`
        CreatedAt time.Time `json:"created_at" db:"created_at"`
        UpdatedAt time.Time `json:"updated_at" db:"updated_at"`
}

// NewPost creates a new PostModel instance
func NewPost() *PostModel <span class="cov8" title="1">{
        post := &amp;PostModel{
                BaseModel: eloquent.NewBaseModel(),
        }

        post.Table("posts").
                PrimaryKey("id").
                Fillable("title", "content", "user_id", "published").
                Casts(map[string]string{
                        "published":  "bool",
                        "created_at": "datetime",
                        "updated_at": "datetime",
                })

        // Set the parent model reference for attribute syncing
        post.SetParentModel(post)

        return post
}</span>

// Define relationships for PostModel
func (p *PostModel) Author() *eloquent.Relationship <span class="cov0" title="0">{
        rb := eloquent.NewRelationshipBuilder(p)
        return rb.BelongsTo("author", "UserModel")
}</span>

// Global static instance for Post model
var Post = eloquent.NewModelStatic(func() *PostModel <span class="cov8" title="1">{
        return NewPost()
}</span>)

// ProfileModel - Test model for user profiles
type ProfileModel struct {
        *eloquent.BaseModel

        ID        string    `json:"id" db:"id"`
        UserID    string    `json:"user_id" db:"user_id"`
        Bio       string    `json:"bio" db:"bio"`
        Avatar    string    `json:"avatar" db:"avatar"`
        CreatedAt time.Time `json:"created_at" db:"created_at"`
        UpdatedAt time.Time `json:"updated_at" db:"updated_at"`
}

// NewProfile creates a new ProfileModel instance
func NewProfile() *ProfileModel <span class="cov8" title="1">{
        profile := &amp;ProfileModel{
                BaseModel: eloquent.NewBaseModel(),
        }

        profile.Table("profiles").
                PrimaryKey("id").
                Fillable("user_id", "bio", "avatar").
                Casts(map[string]string{
                        "created_at": "datetime",
                        "updated_at": "datetime",
                })

        // Set the parent model reference for attribute syncing
        profile.SetParentModel(profile)

        return profile
}</span>

// Define relationships for ProfileModel
func (p *ProfileModel) User() *eloquent.Relationship <span class="cov0" title="0">{
        rb := eloquent.NewRelationshipBuilder(p)
        return rb.BelongsTo("user", "UserModel")
}</span>

// Global static instance for Profile model
var Profile = eloquent.NewModelStatic(func() *ProfileModel <span class="cov8" title="1">{
        return NewProfile()
}</span>)

// Define relationships for UserModel
func (u *UserModel) Posts() *eloquent.Relationship <span class="cov0" title="0">{
        rb := eloquent.NewRelationshipBuilder(u)
        return rb.HasMany("posts", "PostModel")
}</span>

func (u *UserModel) Profile() *eloquent.Relationship <span class="cov0" title="0">{
        rb := eloquent.NewRelationshipBuilder(u)
        return rb.HasOne("profile", "ProfileModel")
}</span>
</pre>
		
		</div>
	</body>
	<script>
	(function() {
		var files = document.getElementById('files');
		var visible;
		files.addEventListener('change', onChange, false);
		function select(part) {
			if (visible)
				visible.style.display = 'none';
			visible = document.getElementById(part);
			if (!visible)
				return;
			files.value = part;
			visible.style.display = 'block';
			location.hash = part;
		}
		function onChange() {
			select(files.value);
			window.scrollTo(0, 0);
		}
		if (location.hash != "") {
			select(location.hash.substr(1));
		}
		if (!visible) {
			select("file0");
		}
	})();
	</script>
</html>
